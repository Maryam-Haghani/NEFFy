\chapter{NEFFy\+: NEFF Calculator and MSA File Converter}
\hypertarget{md_code_2_r_e_a_d_m_e}{}\label{md_code_2_r_e_a_d_m_e}\index{NEFFy: NEFF Calculator and MSA File Converter@{NEFFy: NEFF Calculator and MSA File Converter}}
\label{md_code_2_r_e_a_d_m_e_autotoc_md0}%
\Hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md0}%
NEFFy is a versatile and efficient tool for bioinformatics research, offering advanced features for calculating NEFF (Normalized Effective Number of Sequences) for Multiple \doxylink{struct_sequence}{Sequence} Alignments (MSA)s of any biological sequences, including protein, RNA, and DNA across various MSA formats. ~\newline
 Additionally, NEFFy includes built-\/in support for format conversion, allowing users to seamlessly convert between different MSA formats.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md1}{}\doxysection{\texorpdfstring{Table of Contents}{Table of Contents}}\label{md_code_2_r_e_a_d_m_e_autotoc_md1}

\begin{DoxyItemize}
\item \doxylink{index_installation}{Installation}
\item Tutorial
\begin{DoxyItemize}
\item Project Outline
\item Usage
\begin{DoxyItemize}
\item NEFF Computation
\item MSA File Conversion
\end{DoxyItemize}
\end{DoxyItemize}
\item Supported File Formats
\item Error Handling
\item License
\end{DoxyItemize}\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md2}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_code_2_r_e_a_d_m_e_autotoc_md2}
To install the NEFFy tool, clone the repository and compile the code using a C++ compiler that supports C++17 or a newer version. You can use the provided \mbox{[}Makefile\mbox{]}(Makefile) in the repository for this purpose. Navigate to the repository directory and enter the following command in the terminal\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{make}

\end{DoxyCode}
 If the {\ttfamily make} command is not available on your operating system, \href{https://maryam-haghani.github.io/Neffy/help.html\#make_installation}{\texttt{ here}} is how you can install it.

Once the compilation is complete, you can run the program via the command line. ~\newline
 This package is cross-\/platform and works on Linux, Windows, and mac\+OS without requiring additional compilation. ~\newline


For more information on installing the executable, please refer to the \href{https://maryam-haghani.github.io/Neffy/installation_guide.html\#executable_install}{\texttt{ documentation}}.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md3}{}\doxysection{\texorpdfstring{Tutorial}{Tutorial}}\label{md_code_2_r_e_a_d_m_e_autotoc_md3}
This tutorial will first explain the structure of the NEFFy repository, followed by a guide on how to use it.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md4}{}\doxysubsection{\texorpdfstring{Project Outline}{Project Outline}}\label{md_code_2_r_e_a_d_m_e_autotoc_md4}
The NEFFy repository is structured as follows\+:

\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md5}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{md_code_2_r_e_a_d_m_e_autotoc_md5}
\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md6}{}\doxysubsection{\texorpdfstring{1. NEFF Computation}{1. NEFF Computation}}\label{md_code_2_r_e_a_d_m_e_autotoc_md6}
NEFF determines the effective number of homologous sequences within a Multiple \doxylink{struct_sequence}{Sequence} Alignment (MSA). It accounts for sequence similarities and provides a measure of sequence diversity. ~\newline
 To calculate NEFF, use the {\ttfamily neff} program, provide an MSA file, and specify the desired flags.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md7}{}\doxysubsubsection{\texorpdfstring{Flags\+:}{Flags\+:}}\label{md_code_2_r_e_a_d_m_e_autotoc_md7}
The code accepts the following command-\/line flags\+: \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{5}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Flag   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Required   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Flag   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Required   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-5}
\endhead
{\ttfamily -\/-\/file=\texorpdfstring{$<$}{<}filename\texorpdfstring{$>$}{>}}   &Input file containing multiple sequence alignment   &Yes   &N/A   &{\ttfamily -\/-\/file=my\+\_\+alignment.\+fasta}    \\\cline{1-5}
{\ttfamily -\/-\/alphabet=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Alphabet of MSA ~\newline
 {\bfseries{0}}\+: Protein ~\newline
 {\bfseries{1}}\+: RNA ~\newline
 {\bfseries{2}}\+: DNA   &No   &0   &{\ttfamily -\/-\/alphabet=1}    \\\cline{1-5}
{\ttfamily -\/-\/check\+\_\+validation=\mbox{[}true/false\mbox{]}}   &Validate the input MSA file based on alphabet or not   &No   &false   &{\ttfamily -\/-\/check\+\_\+validation=true}    \\\cline{1-5}
{\ttfamily -\/-\/threshold=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Threshold value of considering two sequences similar (between 0 and 1)   &No   &0.\+8   &{\ttfamily -\/-\/threshold=0.\+7}    \\\cline{1-5}
{\ttfamily -\/-\/norm=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Normalization option for NEFF ~\newline
 {\bfseries{0}}\+: Normalize by the square root of sequence length ~\newline
 {\bfseries{1}}\+: Normalize by the sequence length ~\newline
 {\bfseries{2}}\+: No Normalization   &No   &0   &{\ttfamily -\/-\/norm=2}    \\\cline{1-5}
{\ttfamily -\/-\/omit\+\_\+query\+\_\+gaps=\mbox{[}true/false\mbox{]}}   &Omit gap positions of query sequence from entire sequences for NEFF computation   &No   &true   &{\ttfamily -\/-\/omit\+\_\+query\+\_\+gaps=true}    \\\cline{1-5}
{\ttfamily -\/-\/is\+\_\+symmetric =true/false\mbox{]}}   &Consider gaps in number of differences when computing sequence similarity cutoff (asymmetric) or not (symmetric)   &No   &true   &{\ttfamily -\/-\/is\+\_\+symmetric=false}    \\\cline{1-5}
{\ttfamily -\/-\/non\+\_\+standard\+\_\+option=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Options for handling non-\/standard letters of the specified alphabet ~\newline
 {\bfseries{0}}\+: Treat them the same as standard letters ~\newline
 {\bfseries{1}}\+: Consider them as gaps when computing similarity cutoff of sequences (only used in asymmetryc version) ~\newline
 {\bfseries{2}}\+: Consider them as gaps in computing similarity cutoff and checking position of match/mismatch   &No   &0   &{\ttfamily -\/-\/non\+\_\+standard\+\_\+option=1}    \\\cline{1-5}
{\ttfamily -\/-\/depth=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Depth of MSA to be considered in computation (starting from the first sequence)   &No   &inf (consider all sequences)   &{\ttfamily -\/-\/depth=10} ~\newline
(if given value is greater than original depth, it considers the original depth)    \\\cline{1-5}
{\ttfamily -\/-\/gap\+\_\+cutoff=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Threshold for considering a position as gappy and removing that (between 0 and 1)   &No   &1 (no gappy position)   &{\ttfamily -\/-\/gap\+\_\+cutoff=0.\+7}    \\\cline{1-5}
{\ttfamily -\/-\/pos\+\_\+start=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Start position of each sequence to be considered in NEFF (inclusive)   &No   &1 (the first position)   &{\ttfamily -\/-\/pos\+\_\+start=10}    \\\cline{1-5}
{\ttfamily -\/-\/pos\+\_\+end=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Last position of each sequence to be considered in NEFF (inclusive)   &No   &inf (consider all sequence)   &{\ttfamily -\/-\/pos\+\_\+end=50} (if given value is greater than the length of the MSA sequences, consider length of sequences in the MSA)    \\\cline{1-5}
{\ttfamily -\/-\/only\+\_\+weights=\mbox{[}true/false\mbox{]}}   &Return only sequence weights, rather than the final NEFF   &No   &false   &{\ttfamily -\/-\/only\+\_\+weights=true}    \\\cline{1-5}
{\ttfamily -\/-\/mask\+\_\+enabled=\mbox{[}true/false\mbox{]}}   &Enable random sequence masking for NEFF calculation and return the masking with the highest NEFF   &No   &false   &{\ttfamily -\/-\/mask\+\_\+enabled=true}    \\\cline{1-5}
{\ttfamily -\/-\/mask\+\_\+percent=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Percentage of sequences to be masked in each masking iteration   &when {\itshape mask\+\_\+enabled}=true   &0   &{\ttfamily -\/-\/mask\+\_\+percent=0.\+4}    \\\cline{1-5}
{\ttfamily -\/-\/mask\+\_\+count=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Number of masking iterations   &when {\itshape mask\+\_\+enabled}=true   &0   &{\ttfamily -\/-\/mask\+\_\+count=0}    \\\cline{1-5}
{\ttfamily -\/-\/multimer\+\_\+\+MSA=\mbox{[}true/false\mbox{]}}   &Compute NEFF for paired MSA and individual monomer MSAs when MSA is in the form of multimer MSA   &No   &false   &{\ttfamily -\/-\/multimer\+\_\+\+MSA=true}    \\\cline{1-5}
{\ttfamily -\/-\/monomer\+\_\+length=\texorpdfstring{$<$}{<}list of values\texorpdfstring{$>$}{>}}   &Length of the monomers, used to obtain NEFF for paired MSA and individual monomer MSAs   &when {\itshape multimer\+\_\+\+MSA}=true   &0   &{\ttfamily -\/-\/monomer\+\_\+length=17 45}    \\\cline{1-5}
{\ttfamily -\/-\/column\+\_\+neff=\mbox{[}true/false\mbox{]}}   &Compute Column-\/wise NEFF   &No   &false   &{\ttfamily -\/-\/column\+\_\+neff=true}   \\\cline{1-5}
\end{longtabu}


For more details about features, please refer to the \href{https://maryam-haghani.github.io/Neffy/index.html\#overview_neff_computation}{\texttt{ documentation}}.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md8}{}\doxysubsubsection{\texorpdfstring{Example\+:}{Example\+:}}\label{md_code_2_r_e_a_d_m_e_autotoc_md8}
neff --file=alignment.\+fasta --threshold=0.\+6 --norm=2 --is\+\_\+symmetric=false --check\+\_\+validation=true As output, it will print the final MSA length, depth and Neff to the console, based on the given options.

For detailed instructions on usage, please refer to the \href{https://maryam-haghani.github.io/Neffy/usage_guide.html\#neff_computation}{\texttt{ documentation}}.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md9}{}\doxysubsection{\texorpdfstring{2. MSA File Conversion}{2. MSA File Conversion}}\label{md_code_2_r_e_a_d_m_e_autotoc_md9}
The MSA file conversion allows you to convert MSA files between different supported formats. ~\newline
 All you need is to use the {\ttfamily converter} program and specify the input and output files with their formats, and the tool will perform the conversion accordingly.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md10}{}\doxysubsubsection{\texorpdfstring{Flags\+:}{Flags\+:}}\label{md_code_2_r_e_a_d_m_e_autotoc_md10}
The code accepts the following command-\/line flags\+: \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{5}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Flag   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Required   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Flag   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Required   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-5}
\endhead
{\ttfamily -\/-\/in\+\_\+file=\texorpdfstring{$<$}{<}filename\texorpdfstring{$>$}{>}}   &Specifies the input MSA file to be converted.~\newline
 Replace {\ttfamily \texorpdfstring{$<$}{<}filename\texorpdfstring{$>$}{>}} with the path and name of the input file   &Yes   &N/A   &{\ttfamily -\/-\/in\+\_\+file=input.\+fasta}    \\\cline{1-5}
{\ttfamily -\/-\/out\+\_\+file=\texorpdfstring{$<$}{<}filename\texorpdfstring{$>$}{>}}   &Specifies the output file where the converted MSA will be saved.~\newline
 Replace {\ttfamily \texorpdfstring{$<$}{<}filename\texorpdfstring{$>$}{>}} with the desired path and name of the output file   &Yes   &N/A   &{\ttfamily -\/-\/out\+\_\+file=output.\+a2m}    \\\cline{1-5}
{\ttfamily -\/-\/alphabet=\texorpdfstring{$<$}{<}value\texorpdfstring{$>$}{>}}   &Alphabet of MSA ~\newline
 {\bfseries{0}}\+: Protein ~\newline
 {\bfseries{1}}\+: RNA ~\newline
 {\bfseries{2}}\+: DNA   &No   &0   &{\ttfamily -\/-\/alphabet=1}    \\\cline{1-5}
{\ttfamily -\/-\/check\+\_\+validation=\mbox{[}true/false\mbox{]}}   &Validate the input MSA file based on alphabet or not   &No   &true   &{\ttfamily -\/-\/check\+\_\+validation=true}   \\\cline{1-5}
\end{longtabu}


Please note that the conversion is performed based on the specified input and output file extensions. ~\newline
 For more details about features, please refer to the \href{https://maryam-haghani.github.io/Neffy/index.html\#overview_converter}{\texttt{ documentation}}.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md11}{}\doxysubsubsection{\texorpdfstring{Example\+:}{Example\+:}}\label{md_code_2_r_e_a_d_m_e_autotoc_md11}
Suppose you have an MSA file named "{}input.\+fasta"{} and you want to convert to the A2M format and save it as "{}output.\+a2m"{}. \begin{DoxyVerb}converter --in_file=input.fasta --out_file=output.a2m
\end{DoxyVerb}
 For detailed instructions on usage, please refer to the \href{https://maryam-haghani.github.io/Neffy/usage_guide.html\#converter}{\texttt{ documentation}}.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md12}{}\doxysubsection{\texorpdfstring{Supported File Formats}{Supported File Formats}}\label{md_code_2_r_e_a_d_m_e_autotoc_md12}

\begin{DoxyItemize}
\item {\bfseries{A2M}} (aligned FASTA-\/like format)
\item {\bfseries{A3M}} (compressed aligned FASTA-\/like format with lowercase letters for insertions)
\item {\bfseries{FASTA}}, {\bfseries{AFA}}, {\bfseries{FAS}}, {\bfseries{FST}}, {\bfseries{FSA}} (FASTA format)
\item {\bfseries{STO}} (Stockholm format)
\item {\bfseries{CLUSTAL}} (CLUSTAL format)
\item {\bfseries{ALN}} (ALN format)
\item {\bfseries{PFAM}} (format mostly used for nucleotides)
\end{DoxyItemize}

In the \href{https://maryam-haghani.github.io/Neffy/msa_formats.html}{\texttt{ documentation}}, you will find a brief explanation of each format, along with an illustrative alignment example for each one.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md13}{}\doxysubsection{\texorpdfstring{Error Handling}{Error Handling}}\label{md_code_2_r_e_a_d_m_e_autotoc_md13}
If any errors occur during the execution of the MSA Processor, an error message will be displayed, describing the issue encountered. ~\newline
 Please refer to the error message for troubleshooting or make necessary corrections to the input.\hypertarget{md_code_2_r_e_a_d_m_e_autotoc_md14}{}\doxysection{\texorpdfstring{License}{License}}\label{md_code_2_r_e_a_d_m_e_autotoc_md14}
This project is licensed under the GNU General Public License v3.\+0 -\/ see the \href{LICENSE.txt}{\texttt{ LICENSE}} file for details.

\DoxyHorRuler{0}
 For further assistance, please see the \href{https://maryam-haghani.github.io/Neffy/}{\texttt{ documentation}}. 